<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css">
    <title>Task</title>
</head>
<body>
<th:block th:replace="~{darkmode :: base}">

    <th:block th:fragment="content">
        <h1>Task Details</h1>
        <h2 th:text="${task.title}"></h2>
        <a th:href="@{'/subproject/' + ${task.subprojectID} + '/task/' + ${task.taskID} + '/delete'}">
            <button>Delete task</button>
        </a>
        <p>Deadline: <span th:text="${task.deadline}"></span></p>

        <h3>Subtasks</h3>

            <li th:each="subtask : ${task.subtasks}">
                <a th:href="@{'/subtask/' + ${subtask.subtaskID}}" th:text="${subtask.title}"></a> -
                <span th:text="${subtask.estimatedHours}"></span>
            </li>

        <a th:href="@{'/task/' + ${task_id} + '/create-subtask'}">
            <button>Create subtask</button>

        </a>
        <a th:href="@{'/subproject/' + ${task.subprojectID} + '/update-task/' + ${task.taskID}}">
            <button>Update Task</button>
        </a>

        <a th:href="@{'/subproject/' + ${task.subprojectID}}">
            <button>Return to Subproject</button>
        </a>
    </th:block>
</th:block>

</body>
</html>